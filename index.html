<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking</title>
    <!-- Fonts -->
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet"> -->
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="/css/all.min.css">
</head>

<body>
    <!--Header and Menu Section-->
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Contact</a></li>
                <li><a class="active" href="#">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <!--Booking Section-->
    <main class="main-content container">
        <div class="booking-form">
            <h3>Booking Flights</h3>
            <div class="input-group">
                <label for="">Flying From</label>
                <input class="inp-style" type="text" name="" placeholder="Dhake, Bangladesh">
            </div>
            <div class="input-group">
                <label for="">Flying To</label>
                <input class="inp-style" type="text" name="" placeholder="New York, United States">
            </div>
            <div class="inputs">
                <div class="input-group">
                    <label" for="">Departure</label>
                        <input class="inp-style" type="date" name="">
                </div>
                <div class="input-group">
                    <label for="">Return</label>
                    <input class="inp-style" type="date" name="">
                </div>
            </div>
            <div class="input-group f-class">
                <div>
                    <label id="first-amount" for="">First Class ($150)</label>
                    <input id="first-count" class="inp-style inp-width" type="text" value="1">
                </div>
                <div class="plus-minus-btn">
                    <button onclick="handleTicketChange('first', true)"><i class="fas fa-plus"></i></button>
                    <button onclick="handleTicketChange('first', false)"><i class="fas fa-minus"></i></button>
                </div>
            </div>

            <div class="input-group f-class">
                <div>
                    <label id="second-amount" for="">Economy ($100)</label>
                    <input id="second-count" class="inp-style inp-width" type="text" value="1">
                </div>
                <div class="plus-minus-btn">
                    <button onclick="handleTicketChange('second', true)"><i class="fas fa-plus"></i></button>
                    <button onclick="handleTicketChange('second', false)"><i class="fas fa-minus"></i></button>
                </div>
            </div>
            <div class="calculations">
                <div class="amount">
                    <div class="left">
                        <p>Subtotal</p>
                    </div>
                    <div class="right">
                        <p id="subtotal">$250</p>
                    </div>
                </div>

                <div class="amount">
                    <div class="left">
                        <p>Charge 10% VAT</p>
                    </div>
                    <div class="right">
                        <p id="total-vat">$50</p>
                    </div>
                </div>
                <hr>
                <div class="amount">
                    <div class="left">
                        <h4>Total</h4>
                    </div>
                    <div class="right">
                        <p id="grand-total">$550</p>
                    </div>
                </div>
            </div>
            <button class="btn-style">Book Now</button>
        </div>

        <div class="booking-content">
            <h1>discover <br> around the world</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicingelit. is Provident voluptatibus quam fuga laborumalias
                veniam libero autem quasi maxime ullam vero nama imi dolor, architecto ab facilis eaque deserunt nobise
                voluptatibus quam</p>
        </div>
        </section>

        <!--Thank You-->
        <script>

            function handleTicketChange(product, isIncrease){
                const productCount = document.getElementById(product + '-count');
                const productValue = parseInt(productCount.value);
                //const newTicketValue = ticketValue - 1;
                let newProductValue = productValue;
                if(isIncrease == true){
                    newProductValue = productValue + 1;
                }
                if(isIncrease == false && productValue > 0){
                    newProductValue = productValue - 1;
                }
                productCount.value = newProductValue;
                //const ticketTotal = newTicketValue * 150;
                let ticketTotal = 0;
                if(product == 'first'){
                    ticketTotal = newProductValue * 150;
                }
                if(product == 'second'){
                    ticketTotal = newProductValue * 100;
                }
                document.getElementById(product + '-amount').innerText = 'First Class ($)' + ticketTotal;
                totalCalculation();
            }

            function totalCalculation(){
                const firstSubTotal = getInputValue('first');
                const secondSubTotal = getInputValue('second');
                
                const totalSubTotalCount = firstSubTotal * 150 + secondSubTotal * 100;
                document.getElementById('subtotal').innerText = '$' + totalSubTotalCount;

                const vat = Math.round(totalSubTotalCount * 0.1);
                document.getElementById('total-vat').innerText = '$' + vat;

                const grandTotal = totalSubTotalCount + vat;
                document.getElementById('grand-total').innerText = '$' + grandTotal;
            }

            function getInputValue(product){
                const productSubTotal = document.getElementById(product + '-count');
                const secondSubTotalCount = parseInt(productSubTotal.value);
                return secondSubTotalCount;
            }

            //2nd part of the project

            // function secondTicketHandleChange(isIncrease){
            //     const economyTicketCount = document.getElementById('second-count');
            //     const economyTicketValue = parseInt(economyTicketCount.value);
            //     //const newEconomyTicketValue = economyTicketValue - 1;
            //     let newEconomyTicketValue = economyTicketValue;
            //     if(isIncrease == true){
            //         newEconomyTicketValue = economyTicketValue + 1;
            //     }
            //     if(isIncrease == false && economyTicketValue > 0){
            //         newEconomyTicketValue = economyTicketValue - 1;
            //     }
            //     document.getElementById('second-count').value = newEconomyTicketValue;
            //     const secondTicketAmount = newEconomyTicketValue * 100;
            //     document.getElementById('ticket-price').innerText = 'Economy ($)' + secondTicketAmount;
            // }

            //-----End 2nd part ----

        // document.getElementById('increase-order').addEventListener('click', function(){
        //     const ticketCount = document.getElementById('first-count');
        //     const ticketValue = parseInt(ticketCount.value);
        //     const newTicketValue = ticketValue + 1;
        //     document.getElementById('first-count').value = newTicketValue;
        //     const ticketAmount = newTicketValue * 150;
        //     document.getElementById('ticket-amount').innerText = 'First Class ($)' + ticketAmount;
        // });

        // document.getElementById('decrease-order').addEventListener('click', function(){
        //     const ticketCount = document.getElementById('first-count');
        //     const ticketValue = parseInt(ticketCount.value);
        //     const newTicketValue = ticketValue - 1;
        //     document.getElementById('first-count').value = newTicketValue;
        //     const ticketAmount = newTicketValue * 150;
        //     document.getElementById('ticket-amount').innerText = 'First Class ($)' + ticketAmount;
        // });
        </script>
</body>

</html>